<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ETISS 0.8.0: etiss::CPUArchRegListenerInterface Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ETISS 0.8.0
   </div>
   <div id="projectbrief">ExtendableTranslatingInstructionSetSimulator(version0.8.0)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceetiss.html">etiss</a></li><li class="navelem"><a class="el" href="classetiss_1_1CPUArchRegListenerInterface.html">CPUArchRegListenerInterface</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classetiss_1_1CPUArchRegListenerInterface-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">etiss::CPUArchRegListenerInterface Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>allows to inform plugins about changes to a register that is present in the cpu structure.  
 <a href="classetiss_1_1CPUArchRegListenerInterface.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="CPUArch_8h_source.html">CPUArch.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for etiss::CPUArchRegListenerInterface:</div>
<div class="dyncontent">
<div class="center"><img src="classetiss_1_1CPUArchRegListenerInterface__inherit__graph.png" border="0" usemap="#etiss_1_1CPUArchRegListenerInterface_inherit__map" alt="Inheritance graph"/></div>
<map name="etiss_1_1CPUArchRegListenerInterface_inherit__map" id="etiss_1_1CPUArchRegListenerInterface_inherit__map">
<area shape="rect" title="allows to inform plugins about changes to a register that is present in the cpu structure." alt="" coords="134,5,329,47"/>
<area shape="rect" href="classetiss_1_1CPUArch.html" title="the interface to translate instructions of and processor architecture" alt="" coords="173,95,290,121"/>
<area shape="rect" href="classOR1KArch.html" title="TODO: implement opt_hostendianess for store/load instructions." alt="" coords="5,169,92,196"/>
<area shape="rect" href="classRISCV64Arch.html" title=" " alt="" coords="117,169,223,196"/>
<area shape="rect" href="classRISCVArch.html" title=" " alt="" coords="248,169,337,196"/>
<area shape="rect" href="classRV32IMACFDArch.html" title=" " alt="" coords="361,169,499,196"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a41aeafe938bc40a0bea708091f861cfe"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classetiss_1_1CPUArchRegListenerInterface.html#a41aeafe938bc40a0bea708091f861cfe">~CPUArchRegListenerInterface</a> ()</td></tr>
<tr class="separator:a41aeafe938bc40a0bea708091f861cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27b3f3b61ee0e1e70e291c73132c1efd"><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="JITImpl_2TCC_2CMakeLists_8txt.html#afec2f53c8d2d6bfd3d0c2a7fefc6bd06">std::set</a>&lt; std::string &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classetiss_1_1CPUArchRegListenerInterface.html#a27b3f3b61ee0e1e70e291c73132c1efd">getListenerSupportedRegisters</a> ()=0</td></tr>
<tr class="separator:a27b3f3b61ee0e1e70e291c73132c1efd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a9ba89fc7a632259550bd93eb61cc49ac"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classetiss_1_1CPUArchRegListenerInterface.html#a9ba89fc7a632259550bd93eb61cc49ac">signalChangedRegisterValue</a> (<a class="el" href="structETISS__CPU.html">ETISS_CPU</a> *cpu, const char *registerName)</td></tr>
<tr class="memdesc:a9ba89fc7a632259550bd93eb61cc49ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">call this function to inform RegisterDevicePlugins about changed special register values.  <a href="classetiss_1_1CPUArchRegListenerInterface.html#a9ba89fc7a632259550bd93eb61cc49ac">More...</a><br /></td></tr>
<tr class="separator:a9ba89fc7a632259550bd93eb61cc49ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>allows to inform plugins about changes to a register that is present in the cpu structure. </p>
<p>an architecture should provide information about configuration registers (e.g. special purpose registers) so that plugins may simulate additional hardware. if such a register value has changed the <a class="el" href="classetiss_1_1CPUArch.html" title="the interface to translate instructions of and processor architecture">etiss::CPUArch</a> implementation is required to call <a class="el" href="classetiss_1_1CPUArchRegListenerInterface.html#a9ba89fc7a632259550bd93eb61cc49ac" title="call this function to inform RegisterDevicePlugins about changed special register values.">etiss::CPUArch::signalChangedRegisterValue(ETISS_CPU* cpu,const char * registerName)</a>. </p>

<p class="definition">Definition at line <a class="el" href="CPUArch_8h_source.html#l00081">81</a> of file <a class="el" href="CPUArch_8h_source.html">CPUArch.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a41aeafe938bc40a0bea708091f861cfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41aeafe938bc40a0bea708091f861cfe">&#9670;&nbsp;</a></span>~CPUArchRegListenerInterface()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CPUArchRegListenerInterface::~CPUArchRegListenerInterface </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CPUArch_8cpp_source.html#l00060">60</a> of file <a class="el" href="CPUArch_8cpp_source.html">CPUArch.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a27b3f3b61ee0e1e70e291c73132c1efd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27b3f3b61ee0e1e70e291c73132c1efd">&#9670;&nbsp;</a></span>getListenerSupportedRegisters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual const <a class="el" href="JITImpl_2TCC_2CMakeLists_8txt.html#afec2f53c8d2d6bfd3d0c2a7fefc6bd06">std::set</a>&lt;std::string&gt;&amp; etiss::CPUArchRegListenerInterface::getListenerSupportedRegisters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classetiss_1_1CPUArchRegListenerInterface.html#a9ba89fc7a632259550bd93eb61cc49ac" title="call this function to inform RegisterDevicePlugins about changed special register values.">CPUArchRegListenerInterface::signalChangedRegisterValue</a> </dd></dl>

<p>Implemented in <a class="el" href="classOR1KArch.html#a199672b0d371862ca31040352c908652">OR1KArch</a>, <a class="el" href="classRISCV64Arch.html#a9934173a0b17ee59e440870bf4c45780">RISCV64Arch</a>, <a class="el" href="classRISCVArch.html#a522738b688473f83146d23e635cc3238">RISCVArch</a>, and <a class="el" href="classRV32IMACFDArch.html#acba7f5c1df168a6a6458360847bfb541">RV32IMACFDArch</a>.</p>

</div>
</div>
<a id="a9ba89fc7a632259550bd93eb61cc49ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ba89fc7a632259550bd93eb61cc49ac">&#9670;&nbsp;</a></span>signalChangedRegisterValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CPUArchRegListenerInterface::signalChangedRegisterValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structETISS__CPU.html">ETISS_CPU</a> *&#160;</td>
          <td class="paramname"><em>cpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>registerName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>call this function to inform RegisterDevicePlugins about changed special register values. </p>
<p>call must be done by the architecture implementation!!!</p>
<p>example pseudo implementation: Instruction: write value 13 to special purpose register Y Translated code: YOURARCH_writeToSPR(cpu,Y,13); declaration of YOURARCH_writeToSPR: extern void YOURARCH_writeToSPR(ETISS_CPU*cpu,etiss_uint32 Y,etiss_uint32 X); implementation of YOURARCH_writeToSPR: void YOURARCH_writeToSPR(ETISS_CPU*cpu,etiss_uint32 Y,etiss_uint32 X){ set value of register first ((YOURARCH*)cpu)-&gt;Y = X; signal change <a class="el" href="classetiss_1_1CPUArchRegListenerInterface.html#a9ba89fc7a632259550bd93eb61cc49ac" title="call this function to inform RegisterDevicePlugins about changed special register values.">CPUArch::signalChangedRegisterValue</a>(cpu,"nameOfRegisterY"); // very important } alternatively void ETISS_signalChangedRegisterValue(ETISS_CPU* cpu,const char * registerName) may be used as a C function (e.g. call it directly from the translated code) </p><dl class="section attention"><dt>Attention</dt><dd>may only be called from within the <a class="el" href="classetiss_1_1CPUCore.html#a3abad91e823939228f7db1596e040c19" title="Start the simulation of the CPU core for the system model.">etiss::CPUCore::execute()</a> function. </dd>
<dd>
this function is not very performant. to improve performance a bit call <a class="el" href="classetiss_1_1VirtualStruct_1_1Field.html#a7c04d6965fde453da0878d5cbfd64a6a" title="this function should be called if the listener flag is set and the field changed without using the wr...">etiss::VirtualStruct::Field::signalWrite()</a> directly for the appropriate field. in general it must be avaioded to use listeners on registers that are frequently changed (e.g. general purpose registers, special purpose registers for flags of arithmetic operations, etc. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="CPUCore_8cpp.html" title="implementation of etiss/CPUCore.h">CPUCore.cpp</a> (implemented there)</dd>
<dd>
<a class="el" href="CPUArch_8h.html" title="contains neccesary interfaces for instruction translation.">etiss/CPUArch.h</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="CPUCore_8cpp_source.html#l00042">42</a> of file <a class="el" href="CPUCore_8cpp_source.html">CPUCore.cpp</a>.</p>

<p class="reference">References <a class="el" href="build_2include_2jit_2etiss_2jit_2CPU_8h_source.html#l00105">ETISS_CPU::_etiss_private_handle_</a>, <a class="el" href="Misc_8h_source.html#l00127">etiss::ERROR</a>, <a class="el" href="CPUCore_8h_source.html#l00169">etiss::CPUCore::getStruct()</a>, <a class="el" href="arm__acle_8h.html#af0f89e107c8af9af65a3b058fcafc81a">if()</a>, <a class="el" href="VirtualStruct_8h_source.html#l00193">etiss::VirtualStruct::Field::L</a>, and <a class="el" href="Misc_8cpp_source.html#l00125">etiss::log()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CPUArch_8cpp_source.html#l00189">ETISS_signalChangedRegisterValue()</a>, and <a class="el" href="OR1KArch_8cpp_source.html#l00172">OR1KArch_mtspr()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classetiss_1_1CPUArchRegListenerInterface_a9ba89fc7a632259550bd93eb61cc49ac_cgraph.png" border="0" usemap="#classetiss_1_1CPUArchRegListenerInterface_a9ba89fc7a632259550bd93eb61cc49ac_cgraph" alt=""/></div>
<map name="classetiss_1_1CPUArchRegListenerInterface_a9ba89fc7a632259550bd93eb61cc49ac_cgraph" id="classetiss_1_1CPUArchRegListenerInterface_a9ba89fc7a632259550bd93eb61cc49ac_cgraph">
<area shape="rect" title="call this function to inform RegisterDevicePlugins about changed special register values." alt="" coords="5,49,280,90"/>
<area shape="rect" href="classetiss_1_1CPUCore.html#ade229c2b8c8c3f0eddeea217799151fc" title="Get the virtual structure of this CPUCore instance." alt="" coords="328,5,513,32"/>
<area shape="rect" href="arm__acle_8h.html#af0f89e107c8af9af65a3b058fcafc81a" title=" " alt="" coords="401,56,440,83"/>
<area shape="rect" href="namespaceetiss.html#afd320e98bf6a5e2c0d8ffde5dd28dd35" title="write log message at the given level." alt="" coords="380,107,461,133"/>
<area shape="rect" href="namespaceetiss.html#a5d23a51a17c09f1b863c601d4454f99b" title="conversion of type T to std::string." alt="" coords="561,107,673,133"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classetiss_1_1CPUArchRegListenerInterface_a9ba89fc7a632259550bd93eb61cc49ac_icgraph.png" border="0" usemap="#classetiss_1_1CPUArchRegListenerInterface_a9ba89fc7a632259550bd93eb61cc49ac_icgraph" alt=""/></div>
<map name="classetiss_1_1CPUArchRegListenerInterface_a9ba89fc7a632259550bd93eb61cc49ac_icgraph" id="classetiss_1_1CPUArchRegListenerInterface_a9ba89fc7a632259550bd93eb61cc49ac_icgraph">
<area shape="rect" title="call this function to inform RegisterDevicePlugins about changed special register values." alt="" coords="515,35,789,76"/>
<area shape="rect" href="CPUArch_8cpp.html#a084690341960c5de42da6f920dbb0f7e" title=" " alt="" coords="252,5,467,47"/>
<area shape="rect" href="OR1KArch_8cpp.html#aec7c3654a84d7539de84b32bc78ef5e7" title=" " alt="" coords="293,71,425,98"/>
<area shape="rect" href="classanonymous__namespace_02OR1KArch_8cpp_03_1_1SPRField.html#a7183f32f087b0c5fd6e0aa90f7ae1f55" title="override this function to implement writes in case of AccessMode::VIRTUAL / AccessMode::PREFER_LAMBDA" alt="" coords="5,57,204,113"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/etiss_test/etiss_test/include/etiss/<a class="el" href="CPUArch_8h_source.html">CPUArch.h</a></li>
<li>/home/runner/work/etiss_test/etiss_test/src/<a class="el" href="CPUArch_8cpp_source.html">CPUArch.cpp</a></li>
<li>/home/runner/work/etiss_test/etiss_test/src/<a class="el" href="CPUCore_8cpp_source.html">CPUCore.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 19 2022 12:53:24 for ETISS 0.8.0 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
