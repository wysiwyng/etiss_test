<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ETISS 0.8.0: /home/runner/work/etiss_test/etiss_test/include/etiss/ObjectPool.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ETISS 0.8.0
   </div>
   <div id="projectbrief">ExtendableTranslatingInstructionSetSimulator(version0.8.0)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7708fcaabbeb928b08436566fd91c8ff.html">etiss_test</a></li><li class="navelem"><a class="el" href="dir_83e04c3ca177271c485a7c3347046b00.html">include</a></li><li class="navelem"><a class="el" href="dir_50ea22a3da9d404e4f9dd1b278ac02a1.html">etiss</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ObjectPool.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ObjectPool_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#ifndef ETISS_OBJECTPOOL_H_</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#define ETISS_OBJECTPOOL_H_</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Misc_8h.html">etiss/Misc.h</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="RefCountedObject_8h.html">etiss/RefCountedObject.h</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="ObjectPool_8h.html#a5975be6a8eaccaaabb47d7f8227b138f">   60</a></span>&#160;<span class="preprocessor">#define ETISS_OBJECTPOOL_LOGSIZE 1</span></div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="ObjectPool_8h.html#aaa8f1188c777bbd496c65a3430efd713">   61</a></span>&#160;<span class="preprocessor">#define ETISS_OBJECTPOOL_DBG_OBJLIMIT 0 // set to 0 to disable</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceetiss.html">etiss</a></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;{</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">size_t</span> prealloc_inc = 100&gt;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html">   67</a></span>&#160;<span class="keyword">class </span><a class="code" href="classetiss_1_1ObjectPool.html">ObjectPool</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="namespaceetiss_1_1internal.html">   69</a></span>&#160;<span class="keyword">namespace </span>internal</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;{</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">// functions to set a pointer from object to memory pool if object inherited</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">// RefCounted Object</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">typename</span> std::enable_if&lt;!std::is_base_of&lt;etiss::RefCountedObject&lt;ObjectPool&lt;T&gt;&gt;, T&gt;::value, <span class="keywordtype">void</span>&gt;<a class="code" href="namespaceget__metrics.html#a3e6d5b7cc2051109eba3472bc957c2c6">::type</a></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="namespaceetiss_1_1internal.html#ad4ddf7f2fc58e21906013015d9a959dc">   76</a></span>&#160;<a class="code" href="namespaceetiss_1_1internal.html#ad4ddf7f2fc58e21906013015d9a959dc">ObjectPool_setAllocatorPointer</a>(T *obj, <a class="code" href="classetiss_1_1ObjectPool.html">ObjectPool&lt;T&gt;</a> *this_)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;{</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">typename</span> std::enable_if&lt;std::is_base_of&lt;etiss::RefCountedObject&lt;ObjectPool&lt;T&gt;&gt;, T&gt;::value, <span class="keywordtype">void</span>&gt;<a class="code" href="namespaceget__metrics.html#a3e6d5b7cc2051109eba3472bc957c2c6">::type</a></div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="namespaceetiss_1_1internal.html#ae1d03c64492f6a9148716e21ebe182ac">   81</a></span>&#160;<a class="code" href="namespaceetiss_1_1internal.html#ad4ddf7f2fc58e21906013015d9a959dc">ObjectPool_setAllocatorPointer</a>(T *obj, <a class="code" href="classetiss_1_1ObjectPool.html">ObjectPool&lt;T&gt;</a> *this_)</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;{</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    etiss::helper_allocator_ptr_ref&lt;T, ObjectPool&lt;T&gt;&gt;(obj) = this_;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;}</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;} <span class="comment">// namespace internal</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">// patch missing alignof support for msvc</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#ifdef _MSC_VER</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">#define alignof(x) __alignof(x)</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">size_t</span> prealloc_inc&gt;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">class </span>ObjectPool</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#af985bdcf20de3daa8f897870c78ce4f5">  100</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="classetiss_1_1ObjectPool.html#af985bdcf20de3daa8f897870c78ce4f5">blocksize_</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#a1b470c35845196ce4dee363775c26d5d">  103</a></span>&#160;    std::set&lt;void *&gt; <a class="code" href="classetiss_1_1ObjectPool.html#a1b470c35845196ce4dee363775c26d5d">areas_</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#af6dc0909c25440884b08517ad38c22a3">  104</a></span>&#160;    std::vector&lt;void *&gt; <a class="code" href="classetiss_1_1ObjectPool.html#af6dc0909c25440884b08517ad38c22a3">empty_</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#af2a392ac588091ec4c228da7246cadbc">  107</a></span>&#160;    <span class="keyword">typedef</span> T <a class="code" href="classetiss_1_1ObjectPool.html#af2a392ac588091ec4c228da7246cadbc">value_type</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#a771a7272b732b7ed2b35ccda50d81cef">  108</a></span>&#160;    <span class="keyword">typedef</span> T *<a class="code" href="classetiss_1_1ObjectPool.html#a771a7272b732b7ed2b35ccda50d81cef">pointer</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#a1ef945a580709292eb8de2f135c009a9">  109</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">const</span> T *<a class="code" href="classetiss_1_1ObjectPool.html#a1ef945a580709292eb8de2f135c009a9">const_pointer</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#a48b56f6c869fdb9424abb9b650540061">  110</a></span>&#160;    <span class="keyword">typedef</span> T &amp;<a class="code" href="classetiss_1_1ObjectPool.html#a48b56f6c869fdb9424abb9b650540061">reference</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#acece8653a4e56b39a78caff2cb86fcf4">  111</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">const</span> T &amp;<a class="code" href="classetiss_1_1ObjectPool.html#acece8653a4e56b39a78caff2cb86fcf4">const_reference</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#afcdfa889e7cff80958b2bd59eb202cf9">  113</a></span>&#160;    <span class="keyword">typedef</span> <span class="keyword">typename</span> std::aligned_storage&lt;<span class="keyword">sizeof</span>(T), <span class="keyword">alignof</span>(T)&gt;<a class="code" href="namespaceget__metrics.html#a3e6d5b7cc2051109eba3472bc957c2c6">::type</a> <a class="code" href="classetiss_1_1ObjectPool.html#afcdfa889e7cff80958b2bd59eb202cf9">storage</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#a75d8b6c914a7914ffb3a45ebcb013217">  116</a></span>&#160;    <a class="code" href="classetiss_1_1ObjectPool.html#afcdfa889e7cff80958b2bd59eb202cf9">storage</a> <a class="code" href="classetiss_1_1ObjectPool.html#a75d8b6c914a7914ffb3a45ebcb013217">stackstore</a>[prealloc_inc]; <span class="comment">// small (fast) possibly stack allocation of the first elements</span></div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#adb02c04b065c89e016a9dfbdafb033a4">  117</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classetiss_1_1ObjectPool.html#adb02c04b065c89e016a9dfbdafb033a4">stackstore_used</a>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Type&gt;</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="structetiss_1_1ObjectPool_1_1rebind.html">  121</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structetiss_1_1ObjectPool_1_1rebind.html">rebind</a></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    {</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="structetiss_1_1ObjectPool_1_1rebind.html#ad669c42bf9fdff4da231d030ed218d74">  123</a></span>&#160;        <span class="keyword">typedef</span> <a class="code" href="classetiss_1_1ObjectPool.html">ObjectPool&lt;Type&gt;</a> <a class="code" href="structetiss_1_1ObjectPool_1_1rebind.html#ad669c42bf9fdff4da231d030ed218d74">other</a>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    };</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#a213d483f73234a49733aec911c1315d2">  126</a></span>&#160;    <a class="code" href="classetiss_1_1ObjectPool.html#a213d483f73234a49733aec911c1315d2">ObjectPool</a>(<span class="keywordtype">size_t</span> blockElementCount = 5000) : <a class="code" href="classetiss_1_1ObjectPool.html#af985bdcf20de3daa8f897870c78ce4f5">blocksize_</a>(blockElementCount), <a class="code" href="classetiss_1_1ObjectPool.html#adb02c04b065c89e016a9dfbdafb033a4">stackstore_used</a>(<a class="code" href="clang__stdlib_2stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {}</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#a2a7709525821425635a8f248268689e2">  127</a></span>&#160;    <a class="code" href="classetiss_1_1ObjectPool.html#a2a7709525821425635a8f248268689e2">ObjectPool</a>(<span class="keyword">const</span> <a class="code" href="classetiss_1_1ObjectPool.html">ObjectPool</a> &amp;alloc) : <a class="code" href="classetiss_1_1ObjectPool.html#af985bdcf20de3daa8f897870c78ce4f5">blocksize_</a>(alloc.<a class="code" href="classetiss_1_1ObjectPool.html#af985bdcf20de3daa8f897870c78ce4f5">blocksize_</a>), <a class="code" href="classetiss_1_1ObjectPool.html#adb02c04b065c89e016a9dfbdafb033a4">stackstore_used</a>(<a class="code" href="clang__stdlib_2stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>) {}</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> U&gt;</div>
<div class="line"><a name="l00129"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#a7929c78afef5716e57f7fcd8c479af6b">  129</a></span>&#160;    <a class="code" href="classetiss_1_1ObjectPool.html#a7929c78afef5716e57f7fcd8c479af6b">ObjectPool</a>(<span class="keyword">const</span> <a class="code" href="classetiss_1_1ObjectPool.html">ObjectPool&lt;U&gt;</a> &amp;alloc) : <a class="code" href="classetiss_1_1ObjectPool.html#af985bdcf20de3daa8f897870c78ce4f5">blocksize_</a>(alloc.<a class="code" href="classetiss_1_1ObjectPool.html#af985bdcf20de3daa8f897870c78ce4f5">blocksize_</a>), <a class="code" href="classetiss_1_1ObjectPool.html#adb02c04b065c89e016a9dfbdafb033a4">stackstore_used</a>(<a class="code" href="clang__stdlib_2stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div>
<div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#a91a50029bca56791c9a5ef0a8e300a6b">  132</a></span>&#160;    <a class="code" href="classetiss_1_1ObjectPool.html#a91a50029bca56791c9a5ef0a8e300a6b">~ObjectPool</a>()</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="comment">// no other cleanup must be preformed since all allocated objects are required to be destroyed prior to this</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="comment">// destruction</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> iter = <a class="code" href="classetiss_1_1ObjectPool.html#a1b470c35845196ce4dee363775c26d5d">areas_</a>.begin(); iter != <a class="code" href="classetiss_1_1ObjectPool.html#a1b470c35845196ce4dee363775c26d5d">areas_</a>.end(); ++iter)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="keywordflow">if</span> (*iter != <a class="code" href="classetiss_1_1ObjectPool.html#a75d8b6c914a7914ffb3a45ebcb013217">stackstore</a>)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <span class="keyword">delete</span>[](<a class="code" href="classetiss_1_1ObjectPool.html#afcdfa889e7cff80958b2bd59eb202cf9">storage</a> *)(*iter);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#a237ab2c22d9c0861f76115e9022436df">  141</a></span>&#160;    T *<a class="code" href="classetiss_1_1ObjectPool.html#a237ab2c22d9c0861f76115e9022436df">address</a>(T &amp;<a class="code" href="namespaceetiss_1_1fault.html#ae605b1063cbd269d9010913d1f56ba21">x</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;<a class="code" href="namespaceetiss_1_1fault.html#ae605b1063cbd269d9010913d1f56ba21">x</a>; }</div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#aa6a8eb0a9d8b14179574ac40b46a157e">  142</a></span>&#160;    <span class="keyword">const</span> T *<a class="code" href="classetiss_1_1ObjectPool.html#aa6a8eb0a9d8b14179574ac40b46a157e">address</a>(<span class="keyword">const</span> T &amp;<a class="code" href="namespaceetiss_1_1fault.html#ae605b1063cbd269d9010913d1f56ba21">x</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;<a class="code" href="namespaceetiss_1_1fault.html#ae605b1063cbd269d9010913d1f56ba21">x</a>; }</div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#aebbbaa20a76fd5c73f4a74784e7f30fb">  143</a></span>&#160;    T *<a class="code" href="classetiss_1_1ObjectPool.html#aebbbaa20a76fd5c73f4a74784e7f30fb">allocate</a>(<span class="keywordtype">size_t</span> n = 1, <span class="keyword">const</span> T * = 0)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="build_2include_2jit_2etiss_2jit_2types_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(n &lt;= 0))</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordflow">throw</span> std::bad_alloc();</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="build_2include_2jit_2etiss_2jit_2types_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(n &gt; 1)) <span class="comment">// fall back to simple malloc call</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="keywordflow">return</span> (T *)<span class="keyword">new</span> <a class="code" href="classetiss_1_1ObjectPool.html#afcdfa889e7cff80958b2bd59eb202cf9">storage</a>[n];</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="build_2include_2jit_2etiss_2jit_2types_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="classetiss_1_1ObjectPool.html#af6dc0909c25440884b08517ad38c22a3">empty_</a>.empty()))</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="classetiss_1_1ObjectPool.html#adb02c04b065c89e016a9dfbdafb033a4">stackstore_used</a>)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                    <a class="code" href="classetiss_1_1ObjectPool.html#adb02c04b065c89e016a9dfbdafb033a4">stackstore_used</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; prealloc_inc; ++i)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                    {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                        <a class="code" href="classetiss_1_1ObjectPool.html#af6dc0909c25440884b08517ad38c22a3">empty_</a>.push_back((<span class="keywordtype">void</span> *)(&amp;(<a class="code" href="classetiss_1_1ObjectPool.html#a75d8b6c914a7914ffb3a45ebcb013217">stackstore</a>[i])));</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                    <a class="code" href="classetiss_1_1ObjectPool.html#afcdfa889e7cff80958b2bd59eb202cf9">storage</a> *area = <span class="keyword">new</span> <a class="code" href="classetiss_1_1ObjectPool.html#afcdfa889e7cff80958b2bd59eb202cf9">storage</a>[<a class="code" href="classetiss_1_1ObjectPool.html#af985bdcf20de3daa8f897870c78ce4f5">blocksize_</a>];</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                    <span class="keywordflow">if</span> (area == 0)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                        <span class="keywordflow">throw</span> std::bad_alloc();</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <a class="code" href="classetiss_1_1ObjectPool.html#a1b470c35845196ce4dee363775c26d5d">areas_</a>.insert(area);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="preprocessor">#if ETISS_OBJECTPOOL_DBG_OBJLIMIT</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classetiss_1_1ObjectPool.html#a1b470c35845196ce4dee363775c26d5d">areas_</a>.size() * <a class="code" href="classetiss_1_1ObjectPool.html#af985bdcf20de3daa8f897870c78ce4f5">blocksize_</a> &gt; <a class="code" href="ObjectPool_8h.html#aaa8f1188c777bbd496c65a3430efd713">ETISS_OBJECTPOOL_DBG_OBJLIMIT</a>)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        <span class="keywordflow">throw</span> <span class="keyword">new</span> std::bad_alloc();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classetiss_1_1ObjectPool.html#af985bdcf20de3daa8f897870c78ce4f5">blocksize_</a>; ++i)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        <a class="code" href="classetiss_1_1ObjectPool.html#af6dc0909c25440884b08517ad38c22a3">empty_</a>.push_back((<span class="keywordtype">void</span> *)(&amp;(area[i])));</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="preprocessor">#if ETISS_OBJECTPOOL_LOGSIZE</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="comment">// etiss::log(etiss::VERBOSE,&quot;ObjectPool increased size&quot;,areas_.size()*blocksize_+100);</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordtype">void</span> *area = <a class="code" href="classetiss_1_1ObjectPool.html#af6dc0909c25440884b08517ad38c22a3">empty_</a>.back();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <a class="code" href="classetiss_1_1ObjectPool.html#af6dc0909c25440884b08517ad38c22a3">empty_</a>.pop_back();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keywordflow">return</span> (T *)area;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#ad45b6e40323617acd69ef561b61a564f">  187</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classetiss_1_1ObjectPool.html#ad45b6e40323617acd69ef561b61a564f">deallocate</a>(T *p, <span class="keywordtype">size_t</span> n = 1)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="build_2include_2jit_2etiss_2jit_2types_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(p == 0))</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="build_2include_2jit_2etiss_2jit_2types_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(n &lt;= 0))</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">throw</span> std::bad_alloc();</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="build_2include_2jit_2etiss_2jit_2types_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(n &gt; 1))</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keyword">delete</span>[](<a class="code" href="classetiss_1_1ObjectPool.html#afcdfa889e7cff80958b2bd59eb202cf9">storage</a> *) p;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <a class="code" href="classetiss_1_1ObjectPool.html#af6dc0909c25440884b08517ad38c22a3">empty_</a>.push_back(p);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#a90310636451860d7066e2ada7a272dc4">  202</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classetiss_1_1ObjectPool.html#a90310636451860d7066e2ada7a272dc4">max_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<span class="keywordtype">size_t</span>)-1; }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class </span>U, <span class="keyword">class</span>... Args&gt;</div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#aa1039831fa0b4b28a8fb2cf6a0832f8f">  204</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classetiss_1_1ObjectPool.html#aa1039831fa0b4b28a8fb2cf6a0832f8f">construct</a>(U *p, Args &amp;&amp;... <a class="code" href="namespaceget__metrics.html#a4a1b96a03b9eb47d43d7abcd53fb3b9f">args</a>)</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    {</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        ::new ((<span class="keywordtype">void</span> *)p) U(std::forward&lt;Args&gt;(<a class="code" href="namespaceget__metrics.html#a4a1b96a03b9eb47d43d7abcd53fb3b9f">args</a>)...);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        etiss::internal::ObjectPool_setAllocatorPointer&lt;T&gt;((T *)p, <span class="keyword">this</span>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> U&gt;</div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="classetiss_1_1ObjectPool.html#aa4f46721f81ae8f687e7d57ac0e12e96">  210</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classetiss_1_1ObjectPool.html#aa4f46721f81ae8f687e7d57ac0e12e96">destroy</a>(U *p)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        p-&gt;~U();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;};</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="namespaceetiss.html#a4f992e4a41759a395838d7471cebc39d">  217</a></span>&#160;<span class="keyword">typename</span> std::enable_if&lt;std::is_base_of&lt;etiss::RefCountedObject&lt;ObjectPool&lt;T&gt;&gt;, T&gt;::value, <span class="keywordtype">bool</span>&gt;<a class="code" href="namespaceget__metrics.html#a3e6d5b7cc2051109eba3472bc957c2c6">::type</a> <a class="code" href="namespaceetiss.html#a4f992e4a41759a395838d7471cebc39d">decRef</a>(T *ptr)</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordtype">bool</span> ret = helper_decRef&lt;T, typename T::refcount_allocatorT&gt;(ptr);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">if</span> (ret)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="classetiss_1_1ObjectPool.html">ObjectPool&lt;T&gt;</a> *&amp;pool = etiss::helper_allocator_ptr_ref&lt;T, typename T::refcount_allocatorT&gt;(ptr);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">if</span> (pool == 0)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordflow">throw</span> std::bad_alloc();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        pool-&gt;destroy(ptr);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        pool-&gt;deallocate(ptr);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        ptr = 0;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keywordtype">size_t</span> stackallocatedsize = 1&gt;</div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html">  241</a></span>&#160;<span class="keyword">class </span><a class="code" href="classetiss_1_1ExpandingNativeStack.html">ExpandingNativeStack</a></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="Fault_8cpp.html#a7342abf81c3ef3d4b3b64e2d6e5316b4">static_assert</a>(std::is_pod&lt;T&gt;::value, <span class="stringliteral">&quot;ExpandingNativeStack can only handle types without constructor/destructor. &quot;</span></div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#a6aeab3c5c1e18b3408b791bf82ee46f5">  244</a></span>&#160;                                         <span class="stringliteral">&quot;This cannot be fullfilled by non POD objects&quot;</span>);</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="keyword">private</span>:</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    T <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a6aeab3c5c1e18b3408b791bf82ee46f5">stackbuf_</a>[stackallocatedsize &gt; 0 ? stackallocatedsize : 1]; <span class="comment">// must be &gt;0 to conform to c++ standard</span></div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">  248</a></span>&#160;    T *<a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#a1694f1acaa52904651c49842dcb7a3bb">  249</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a1694f1acaa52904651c49842dcb7a3bb">size_</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">  250</a></span>&#160;    <a class="code" href="tcc__stdlib_2stddef_8h.html#a0cbaf9b7a1ba670f0c688e0ba803a649">ssize_t</a> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">pos_</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keyword">public</span>:</div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#ad5395f003a776e8f18fd81f535a2f01e">  253</a></span>&#160;    <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ad5395f003a776e8f18fd81f535a2f01e">ExpandingNativeStack</a>() : <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a>(<a class="code" href="classetiss_1_1ExpandingNativeStack.html#a6aeab3c5c1e18b3408b791bf82ee46f5">stackbuf_</a>), <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a1694f1acaa52904651c49842dcb7a3bb">size_</a>(stackallocatedsize &gt; 0 ? stackallocatedsize : 1), <a class="code" href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">pos_</a>(-1) {}</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#a5f75d72c3233362d95a622a5fe79f21c">  254</a></span>&#160;    <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a5f75d72c3233362d95a622a5fe79f21c">~ExpandingNativeStack</a>()</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a> != <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a6aeab3c5c1e18b3408b791bf82ee46f5">stackbuf_</a>)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            <span class="keyword">delete</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div>
<div class="line"><a name="l00259"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#a9f1638e2d374c0069a4e18741aab0422">  259</a></span>&#160;    <span class="keyword">inline</span> T <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a9f1638e2d374c0069a4e18741aab0422">operator[]</a>(<a class="code" href="tcc__stdlib_2stddef_8h.html#a0cbaf9b7a1ba670f0c688e0ba803a649">ssize_t</a> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">pos</a>)</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="build_2include_2jit_2etiss_2jit_2types_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>((<a class="code" href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">pos</a> &gt;= <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a1694f1acaa52904651c49842dcb7a3bb">size_</a>) || <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">pos</a> &lt; 0))</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <a class="code" href="namespaceetiss.html#afd320e98bf6a5e2c0d8ffde5dd28dd35">etiss::log</a>(<a class="code" href="namespaceetiss.html#abd14e7f45415d7f9f2c7026536a6237ca8d9fd163d9fb98c7553986a7c16e02c6">etiss::FATALERROR</a>, <span class="stringliteral">&quot;Array index out of bounds&quot;</span>, <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">pos</a>, <a class="code" href="Misc_8h.html#ac9fcf3d37daf31583826daa927bc21e8">ETISS_SRCLOC</a>);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a>[<a class="code" href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">pos</a>];</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    }</div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#a0146548444d821d1650cacdb4a23803a">  267</a></span>&#160;    <span class="keyword">inline</span> <span class="keyword">const</span> T <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a0146548444d821d1650cacdb4a23803a">operator[]</a>(<span class="keywordtype">size_t</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">pos</a>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="keyword">    </span>{</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="build_2include_2jit_2etiss_2jit_2types_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>((<a class="code" href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">pos</a> &gt;= <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a1694f1acaa52904651c49842dcb7a3bb">size_</a>) || <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">pos</a> &lt; 0))</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <a class="code" href="namespaceetiss.html#afd320e98bf6a5e2c0d8ffde5dd28dd35">etiss::log</a>(<a class="code" href="namespaceetiss.html#abd14e7f45415d7f9f2c7026536a6237ca8d9fd163d9fb98c7553986a7c16e02c6">etiss::FATALERROR</a>, <span class="stringliteral">&quot;Array index out of bounds&quot;</span>, <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">pos</a>, <a class="code" href="Misc_8h.html#ac9fcf3d37daf31583826daa927bc21e8">ETISS_SRCLOC</a>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a>[<a class="code" href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">pos</a>];</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">  275</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="tcc__stdlib_2stddef_8h.html#a0cbaf9b7a1ba670f0c688e0ba803a649">ssize_t</a> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">pos</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">pos_</a>; }</div>
<div class="line"><a name="l00276"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#a5c88e66281f6e23419a3b11ddd427ee1">  276</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="tcc__stdlib_2stddef_8h.html#a0cbaf9b7a1ba670f0c688e0ba803a649">ssize_t</a> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a5c88e66281f6e23419a3b11ddd427ee1">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">pos_</a> + 1; }</div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#aa41f15e2235ff239c2f13332045b2e16">  277</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="tcc__stdlib_2stddef_8h.html#a0cbaf9b7a1ba670f0c688e0ba803a649">ssize_t</a> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#aa41f15e2235ff239c2f13332045b2e16">capacity</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a1694f1acaa52904651c49842dcb7a3bb">size_</a>; }</div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#ae270abb314e98f9e0a305d633b7b2918">  278</a></span>&#160;    <span class="keyword">inline</span> T &amp;<a class="code" href="classetiss_1_1ExpandingNativeStack.html#ae270abb314e98f9e0a305d633b7b2918">back</a>() { <span class="keywordflow">return</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a>[<a class="code" href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">pos_</a>]; }</div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#aaba5400e6d2a93d0d5261a2ce67106c4">  279</a></span>&#160;    <span class="keyword">inline</span> <span class="keyword">const</span> T &amp;<a class="code" href="classetiss_1_1ExpandingNativeStack.html#aaba5400e6d2a93d0d5261a2ce67106c4">back</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a>[<a class="code" href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">pos_</a>]; }</div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#a0dbef7758bd83ba7a5b5027872702102">  280</a></span>&#160;    <span class="keyword">inline</span> T &amp;<a class="code" href="classetiss_1_1ExpandingNativeStack.html#a0dbef7758bd83ba7a5b5027872702102">front</a>() { <span class="keywordflow">return</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a>[0]; }</div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#a5e83866570dee1feb0f0f073fc014415">  281</a></span>&#160;    <span class="keyword">inline</span> <span class="keyword">const</span> T &amp;<a class="code" href="classetiss_1_1ExpandingNativeStack.html#a5e83866570dee1feb0f0f073fc014415">front</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a>[0]; }</div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#ab20c48bca2264a37a5aaf3e22582be1b">  282</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ab20c48bca2264a37a5aaf3e22582be1b">pop</a>()</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor">#if DEBUG</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="build_2include_2jit_2etiss_2jit_2types_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>(<a class="code" href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">pos_</a> &lt; 0))</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <a class="code" href="namespaceetiss.html#afd320e98bf6a5e2c0d8ffde5dd28dd35">etiss::log</a>(<a class="code" href="namespaceetiss.html#abd14e7f45415d7f9f2c7026536a6237ca8d9fd163d9fb98c7553986a7c16e02c6">etiss::FATALERROR</a>, <span class="stringliteral">&quot;Array index out of bounds (negative)&quot;</span>, <a class="code" href="Misc_8h.html#ac9fcf3d37daf31583826daa927bc21e8">ETISS_SRCLOC</a>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        --<a class="code" href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">pos_</a>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    }</div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#a8cf83dd19d488c3ef4f3b10b12c44a48">  290</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a8cf83dd19d488c3ef4f3b10b12c44a48">push</a>(T t)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="build_2include_2jit_2etiss_2jit_2types_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a>((++<a class="code" href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">pos_</a>) == (<a class="code" href="tcc__stdlib_2stddef_8h.html#a0cbaf9b7a1ba670f0c688e0ba803a649">ssize_t</a>)<a class="code" href="classetiss_1_1ExpandingNativeStack.html#a1694f1acaa52904651c49842dcb7a3bb">size_</a>)) <span class="comment">// reached end of old stack</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordtype">size_t</span> new_size = <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a1694f1acaa52904651c49842dcb7a3bb">size_</a> + 10 + (<a class="code" href="classetiss_1_1ExpandingNativeStack.html#a1694f1acaa52904651c49842dcb7a3bb">size_</a> / 20); <span class="comment">// increase stack size</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            T *tmp = <span class="keyword">new</span> T[new_size];                    <span class="comment">// allocate new stack</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <a class="code" href="____clang__cuda__device__functions_8h.html#a9029c71f6180d7be8232d136ddc4bbb1">memcpy</a>(tmp, <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a>, <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a1694f1acaa52904651c49842dcb7a3bb">size_</a> * <span class="keyword">sizeof</span>(T));      <span class="comment">// copy old elements</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a> != <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a6aeab3c5c1e18b3408b791bf82ee46f5">stackbuf_</a>)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                <span class="keyword">delete</span>[] <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a> = tmp;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="classetiss_1_1ExpandingNativeStack.html#a1694f1acaa52904651c49842dcb7a3bb">size_</a> = new_size;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">stack_</a>[<a class="code" href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">pos_</a>] = t;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    }</div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="classetiss_1_1ExpandingNativeStack.html#ae74593addca42a3d949cad6b209cc3ef">  304</a></span>&#160;    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#ae74593addca42a3d949cad6b209cc3ef">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">pos_</a> &lt; 0; }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;};</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;} <span class="comment">// namespace etiss</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="anamespaceetiss_html_a4f992e4a41759a395838d7471cebc39d"><div class="ttname"><a href="namespaceetiss.html#a4f992e4a41759a395838d7471cebc39d">etiss::decRef</a></div><div class="ttdeci">std::enable_if&lt; std::is_base_of&lt; etiss::RefCountedObject&lt; ObjectPool&lt; T &gt; &gt;, T &gt;::value, bool &gt;::type decRef(T *ptr)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00217">ObjectPool.h:217</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_ad5395f003a776e8f18fd81f535a2f01e"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#ad5395f003a776e8f18fd81f535a2f01e">etiss::ExpandingNativeStack::ExpandingNativeStack</a></div><div class="ttdeci">ExpandingNativeStack()</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00253">ObjectPool.h:253</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_adb02c04b065c89e016a9dfbdafb033a4"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#adb02c04b065c89e016a9dfbdafb033a4">etiss::ObjectPool::stackstore_used</a></div><div class="ttdeci">bool stackstore_used</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00117">ObjectPool.h:117</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_aa4f46721f81ae8f687e7d57ac0e12e96"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#aa4f46721f81ae8f687e7d57ac0e12e96">etiss::ObjectPool::destroy</a></div><div class="ttdeci">void destroy(U *p)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00210">ObjectPool.h:210</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_a1694f1acaa52904651c49842dcb7a3bb"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#a1694f1acaa52904651c49842dcb7a3bb">etiss::ExpandingNativeStack::size_</a></div><div class="ttdeci">size_t size_</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00249">ObjectPool.h:249</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html">etiss::ExpandingNativeStack</a></div><div class="ttdoc">implements a stack that may only grow (if needed) and can only contain native types since no destruct...</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00241">ObjectPool.h:241</a></div></div>
<div class="ttc" id="abuild_2include_2jit_2etiss_2jit_2types_8h_html_ac6c45889010c1bd68631771b64f18101"><div class="ttname"><a href="build_2include_2jit_2etiss_2jit_2types_8h.html#ac6c45889010c1bd68631771b64f18101">unlikely</a></div><div class="ttdeci">#define unlikely(x)</div><div class="ttdef"><b>Definition:</b> <a href="build_2include_2jit_2etiss_2jit_2types_8h_source.html#l00074">types.h:74</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_a7929c78afef5716e57f7fcd8c479af6b"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#a7929c78afef5716e57f7fcd8c479af6b">etiss::ObjectPool::ObjectPool</a></div><div class="ttdeci">ObjectPool(const ObjectPool&lt; U &gt; &amp;alloc)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00129">ObjectPool.h:129</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_a5c88e66281f6e23419a3b11ddd427ee1"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#a5c88e66281f6e23419a3b11ddd427ee1">etiss::ExpandingNativeStack::size</a></div><div class="ttdeci">ssize_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00276">ObjectPool.h:276</a></div></div>
<div class="ttc" id="a____clang__cuda__device__functions_8h_html_a9029c71f6180d7be8232d136ddc4bbb1"><div class="ttname"><a href="____clang__cuda__device__functions_8h.html#a9029c71f6180d7be8232d136ddc4bbb1">memcpy</a></div><div class="ttdeci">__DEVICE__ void * memcpy(void *__a, const void *__b, size_t __c)</div><div class="ttdef"><b>Definition:</b> <a href="____clang__cuda__device__functions_8h_source.html#l01477">__clang_cuda_device_functions.h:1477</a></div></div>
<div class="ttc" id="atcc__stdlib_2stddef_8h_html_a0cbaf9b7a1ba670f0c688e0ba803a649"><div class="ttname"><a href="tcc__stdlib_2stddef_8h.html#a0cbaf9b7a1ba670f0c688e0ba803a649">ssize_t</a></div><div class="ttdeci">__PTRDIFF_TYPE__ ssize_t</div><div class="ttdef"><b>Definition:</b> <a href="tcc__stdlib_2stddef_8h_source.html#l00005">stddef.h:5</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_a799a8eef7747eb0970b3f30cfe19b86d"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#a799a8eef7747eb0970b3f30cfe19b86d">etiss::ExpandingNativeStack::pos</a></div><div class="ttdeci">ssize_t pos() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00275">ObjectPool.h:275</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_ade93d7b92fef2cf2a3c9ed516c234003"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#ade93d7b92fef2cf2a3c9ed516c234003">etiss::ExpandingNativeStack::stack_</a></div><div class="ttdeci">T * stack_</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00248">ObjectPool.h:248</a></div></div>
<div class="ttc" id="anamespaceget__metrics_html_a4a1b96a03b9eb47d43d7abcd53fb3b9f"><div class="ttname"><a href="namespaceget__metrics.html#a4a1b96a03b9eb47d43d7abcd53fb3b9f">get_metrics.args</a></div><div class="ttdeci">args</div><div class="ttdef"><b>Definition:</b> <a href="get__metrics_8py_source.html#l00130">get_metrics.py:130</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_a237ab2c22d9c0861f76115e9022436df"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#a237ab2c22d9c0861f76115e9022436df">etiss::ObjectPool::address</a></div><div class="ttdeci">T * address(T &amp;x) const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00141">ObjectPool.h:141</a></div></div>
<div class="ttc" id="aObjectPool_8h_html_aaa8f1188c777bbd496c65a3430efd713"><div class="ttname"><a href="ObjectPool_8h.html#aaa8f1188c777bbd496c65a3430efd713">ETISS_OBJECTPOOL_DBG_OBJLIMIT</a></div><div class="ttdeci">#define ETISS_OBJECTPOOL_DBG_OBJLIMIT</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00061">ObjectPool.h:61</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_a8cf83dd19d488c3ef4f3b10b12c44a48"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#a8cf83dd19d488c3ef4f3b10b12c44a48">etiss::ExpandingNativeStack::push</a></div><div class="ttdeci">void push(T t)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00290">ObjectPool.h:290</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_aa1039831fa0b4b28a8fb2cf6a0832f8f"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#aa1039831fa0b4b28a8fb2cf6a0832f8f">etiss::ObjectPool::construct</a></div><div class="ttdeci">void construct(U *p, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00204">ObjectPool.h:204</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_a0dbef7758bd83ba7a5b5027872702102"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#a0dbef7758bd83ba7a5b5027872702102">etiss::ExpandingNativeStack::front</a></div><div class="ttdeci">T &amp; front()</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00280">ObjectPool.h:280</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_af2a392ac588091ec4c228da7246cadbc"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#af2a392ac588091ec4c228da7246cadbc">etiss::ObjectPool::value_type</a></div><div class="ttdeci">T value_type</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00107">ObjectPool.h:107</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_a48b56f6c869fdb9424abb9b650540061"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#a48b56f6c869fdb9424abb9b650540061">etiss::ObjectPool::reference</a></div><div class="ttdeci">T &amp; reference</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00110">ObjectPool.h:110</a></div></div>
<div class="ttc" id="astructetiss_1_1ObjectPool_1_1rebind_html"><div class="ttname"><a href="structetiss_1_1ObjectPool_1_1rebind.html">etiss::ObjectPool::rebind</a></div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00121">ObjectPool.h:121</a></div></div>
<div class="ttc" id="anamespaceetiss_1_1internal_html_ad4ddf7f2fc58e21906013015d9a959dc"><div class="ttname"><a href="namespaceetiss_1_1internal.html#ad4ddf7f2fc58e21906013015d9a959dc">etiss::internal::ObjectPool_setAllocatorPointer</a></div><div class="ttdeci">std::enable_if&lt;!std::is_base_of&lt; etiss::RefCountedObject&lt; ObjectPool&lt; T &gt; &gt;, T &gt;::value, void &gt;::type ObjectPool_setAllocatorPointer(T *obj, ObjectPool&lt; T &gt; *this_)</div><div class="ttdoc">empty fallback function</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00076">ObjectPool.h:76</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_a91a50029bca56791c9a5ef0a8e300a6b"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#a91a50029bca56791c9a5ef0a8e300a6b">etiss::ObjectPool::~ObjectPool</a></div><div class="ttdeci">~ObjectPool()</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00132">ObjectPool.h:132</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_acece8653a4e56b39a78caff2cb86fcf4"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#acece8653a4e56b39a78caff2cb86fcf4">etiss::ObjectPool::const_reference</a></div><div class="ttdeci">const typedef T &amp; const_reference</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00111">ObjectPool.h:111</a></div></div>
<div class="ttc" id="anamespaceetiss_1_1fault_html_ae605b1063cbd269d9010913d1f56ba21"><div class="ttname"><a href="namespaceetiss_1_1fault.html#ae605b1063cbd269d9010913d1f56ba21">etiss::fault::x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition:</b> <a href="Injector_8cpp_source.html#l00060">Injector.cpp:60</a></div></div>
<div class="ttc" id="anamespaceetiss_html_abd14e7f45415d7f9f2c7026536a6237ca8d9fd163d9fb98c7553986a7c16e02c6"><div class="ttname"><a href="namespaceetiss.html#abd14e7f45415d7f9f2c7026536a6237ca8d9fd163d9fb98c7553986a7c16e02c6">etiss::FATALERROR</a></div><div class="ttdeci">@ FATALERROR</div><div class="ttdef"><b>Definition:</b> <a href="Misc_8h_source.html#l00126">Misc.h:126</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_a771a7272b732b7ed2b35ccda50d81cef"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#a771a7272b732b7ed2b35ccda50d81cef">etiss::ObjectPool::pointer</a></div><div class="ttdeci">T * pointer</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00108">ObjectPool.h:108</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_a75d8b6c914a7914ffb3a45ebcb013217"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#a75d8b6c914a7914ffb3a45ebcb013217">etiss::ObjectPool::stackstore</a></div><div class="ttdeci">storage stackstore[prealloc_inc]</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00116">ObjectPool.h:116</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_af6dc0909c25440884b08517ad38c22a3"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#af6dc0909c25440884b08517ad38c22a3">etiss::ObjectPool::empty_</a></div><div class="ttdeci">std::vector&lt; void * &gt; empty_</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00104">ObjectPool.h:104</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html"><div class="ttname"><a href="classetiss_1_1ObjectPool.html">etiss::ObjectPool</a></div><div class="ttdoc">prealloc_inc defines the number of objects that is availabe within ObjectPools memory; default: 100</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00067">ObjectPool.h:67</a></div></div>
<div class="ttc" id="anamespaceetiss_html"><div class="ttname"><a href="namespaceetiss.html">etiss</a></div><div class="ttdoc">Page Table Entry (PTE) defines the composition of Page Frame Number (PFN) and relavant flags.</div><div class="ttdef"><b>Definition:</b> <a href="Benchmark_8h_source.html#l00052">Benchmark.h:52</a></div></div>
<div class="ttc" id="anamespaceget__metrics_html_a3e6d5b7cc2051109eba3472bc957c2c6"><div class="ttname"><a href="namespaceget__metrics.html#a3e6d5b7cc2051109eba3472bc957c2c6">get_metrics.type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> <a href="get__metrics_8py_source.html#l00118">get_metrics.py:118</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_a5e83866570dee1feb0f0f073fc014415"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#a5e83866570dee1feb0f0f073fc014415">etiss::ExpandingNativeStack::front</a></div><div class="ttdeci">const T &amp; front() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00281">ObjectPool.h:281</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_a2a7709525821425635a8f248268689e2"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#a2a7709525821425635a8f248268689e2">etiss::ObjectPool::ObjectPool</a></div><div class="ttdeci">ObjectPool(const ObjectPool &amp;alloc)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00127">ObjectPool.h:127</a></div></div>
<div class="ttc" id="aMisc_8h_html"><div class="ttname"><a href="Misc_8h.html">Misc.h</a></div><div class="ttdoc">general configuration and logging</div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_a1ef945a580709292eb8de2f135c009a9"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#a1ef945a580709292eb8de2f135c009a9">etiss::ObjectPool::const_pointer</a></div><div class="ttdeci">const typedef T * const_pointer</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00109">ObjectPool.h:109</a></div></div>
<div class="ttc" id="anamespaceetiss_html_afd320e98bf6a5e2c0d8ffde5dd28dd35"><div class="ttname"><a href="namespaceetiss.html#afd320e98bf6a5e2c0d8ffde5dd28dd35">etiss::log</a></div><div class="ttdeci">void log(Verbosity level, std::string msg)</div><div class="ttdoc">write log message at the given level.</div><div class="ttdef"><b>Definition:</b> <a href="Misc_8cpp_source.html#l00125">Misc.cpp:125</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_a0146548444d821d1650cacdb4a23803a"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#a0146548444d821d1650cacdb4a23803a">etiss::ExpandingNativeStack::operator[]</a></div><div class="ttdeci">const T operator[](size_t pos) const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00267">ObjectPool.h:267</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_a90310636451860d7066e2ada7a272dc4"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#a90310636451860d7066e2ada7a272dc4">etiss::ObjectPool::max_size</a></div><div class="ttdeci">size_t max_size() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00202">ObjectPool.h:202</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_aa41f15e2235ff239c2f13332045b2e16"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#aa41f15e2235ff239c2f13332045b2e16">etiss::ExpandingNativeStack::capacity</a></div><div class="ttdeci">ssize_t capacity() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00277">ObjectPool.h:277</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_a5f75d72c3233362d95a622a5fe79f21c"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#a5f75d72c3233362d95a622a5fe79f21c">etiss::ExpandingNativeStack::~ExpandingNativeStack</a></div><div class="ttdeci">~ExpandingNativeStack()</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00254">ObjectPool.h:254</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_af985bdcf20de3daa8f897870c78ce4f5"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#af985bdcf20de3daa8f897870c78ce4f5">etiss::ObjectPool::blocksize_</a></div><div class="ttdeci">const size_t blocksize_</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00100">ObjectPool.h:100</a></div></div>
<div class="ttc" id="aFault_8cpp_html_a7342abf81c3ef3d4b3b64e2d6e5316b4"><div class="ttname"><a href="Fault_8cpp.html#a7342abf81c3ef3d4b3b64e2d6e5316b4">static_assert</a></div><div class="ttdeci">#define static_assert(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="Fault_8cpp_source.html#l00060">Fault.cpp:60</a></div></div>
<div class="ttc" id="aRefCountedObject_8h_html"><div class="ttname"><a href="RefCountedObject_8h.html">RefCountedObject.h</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_aebbbaa20a76fd5c73f4a74784e7f30fb"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#aebbbaa20a76fd5c73f4a74784e7f30fb">etiss::ObjectPool::allocate</a></div><div class="ttdeci">T * allocate(size_t n=1, const T *=0)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00143">ObjectPool.h:143</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_ab20c48bca2264a37a5aaf3e22582be1b"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#ab20c48bca2264a37a5aaf3e22582be1b">etiss::ExpandingNativeStack::pop</a></div><div class="ttdeci">void pop()</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00282">ObjectPool.h:282</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_a9f1638e2d374c0069a4e18741aab0422"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#a9f1638e2d374c0069a4e18741aab0422">etiss::ExpandingNativeStack::operator[]</a></div><div class="ttdeci">T operator[](ssize_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00259">ObjectPool.h:259</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_af13c2d3adca47f906039c7c50c3f2d95"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#af13c2d3adca47f906039c7c50c3f2d95">etiss::ExpandingNativeStack::pos_</a></div><div class="ttdeci">ssize_t pos_</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00250">ObjectPool.h:250</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_afcdfa889e7cff80958b2bd59eb202cf9"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#afcdfa889e7cff80958b2bd59eb202cf9">etiss::ObjectPool::storage</a></div><div class="ttdeci">std::aligned_storage&lt; sizeof(T), alignof(T)&gt;::type storage</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00113">ObjectPool.h:113</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_ae74593addca42a3d949cad6b209cc3ef"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#ae74593addca42a3d949cad6b209cc3ef">etiss::ExpandingNativeStack::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00304">ObjectPool.h:304</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_a213d483f73234a49733aec911c1315d2"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#a213d483f73234a49733aec911c1315d2">etiss::ObjectPool::ObjectPool</a></div><div class="ttdeci">ObjectPool(size_t blockElementCount=5000)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00126">ObjectPool.h:126</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_aa6a8eb0a9d8b14179574ac40b46a157e"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#aa6a8eb0a9d8b14179574ac40b46a157e">etiss::ObjectPool::address</a></div><div class="ttdeci">const T * address(const T &amp;x) const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00142">ObjectPool.h:142</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_a6aeab3c5c1e18b3408b791bf82ee46f5"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#a6aeab3c5c1e18b3408b791bf82ee46f5">etiss::ExpandingNativeStack::stackbuf_</a></div><div class="ttdeci">T stackbuf_[stackallocatedsize &gt; 0 ? stackallocatedsize :1]</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00244">ObjectPool.h:244</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_aaba5400e6d2a93d0d5261a2ce67106c4"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#aaba5400e6d2a93d0d5261a2ce67106c4">etiss::ExpandingNativeStack::back</a></div><div class="ttdeci">const T &amp; back() const</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00279">ObjectPool.h:279</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_a1b470c35845196ce4dee363775c26d5d"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#a1b470c35845196ce4dee363775c26d5d">etiss::ObjectPool::areas_</a></div><div class="ttdeci">std::set&lt; void * &gt; areas_</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00103">ObjectPool.h:103</a></div></div>
<div class="ttc" id="aclang__stdlib_2stdbool_8h_html_a65e9886d74aaee76545e83dd09011727"><div class="ttname"><a href="clang__stdlib_2stdbool_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></div><div class="ttdeci">#define false</div><div class="ttdef"><b>Definition:</b> <a href="clang__stdlib_2stdbool_8h_source.html#l00017">stdbool.h:17</a></div></div>
<div class="ttc" id="aMisc_8h_html_ac9fcf3d37daf31583826daa927bc21e8"><div class="ttname"><a href="Misc_8h.html#ac9fcf3d37daf31583826daa927bc21e8">ETISS_SRCLOC</a></div><div class="ttdeci">#define ETISS_SRCLOC</div><div class="ttdef"><b>Definition:</b> <a href="Misc_8h_source.html#l00239">Misc.h:239</a></div></div>
<div class="ttc" id="aclassetiss_1_1ObjectPool_html_ad45b6e40323617acd69ef561b61a564f"><div class="ttname"><a href="classetiss_1_1ObjectPool.html#ad45b6e40323617acd69ef561b61a564f">etiss::ObjectPool::deallocate</a></div><div class="ttdeci">void deallocate(T *p, size_t n=1)</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00187">ObjectPool.h:187</a></div></div>
<div class="ttc" id="aclassetiss_1_1ExpandingNativeStack_html_ae270abb314e98f9e0a305d633b7b2918"><div class="ttname"><a href="classetiss_1_1ExpandingNativeStack.html#ae270abb314e98f9e0a305d633b7b2918">etiss::ExpandingNativeStack::back</a></div><div class="ttdeci">T &amp; back()</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00278">ObjectPool.h:278</a></div></div>
<div class="ttc" id="astructetiss_1_1ObjectPool_1_1rebind_html_ad669c42bf9fdff4da231d030ed218d74"><div class="ttname"><a href="structetiss_1_1ObjectPool_1_1rebind.html#ad669c42bf9fdff4da231d030ed218d74">etiss::ObjectPool::rebind::other</a></div><div class="ttdeci">ObjectPool&lt; Type &gt; other</div><div class="ttdef"><b>Definition:</b> <a href="ObjectPool_8h_source.html#l00123">ObjectPool.h:123</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 19 2022 12:53:09 for ETISS 0.8.0 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
