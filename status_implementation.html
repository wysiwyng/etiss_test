<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ETISS 0.8.0: Implementation Status</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ETISS 0.8.0
   </div>
   <div id="projectbrief">ExtendableTranslatingInstructionSetSimulator(version0.8.0)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Implementation Status </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This document describes the current status of integrated/default supplied Libraries and their implementations of <a class="el" href="classetiss_1_1CPUArch.html" title="the interface to translate instructions of and processor architecture">etiss::CPUArch</a>, <a class="el" href="classetiss_1_1JIT.html" title="compiler interface for just in time compilation of generated C code">etiss::JIT</a> and <a class="el" href="classetiss_1_1Plugin.html" title="base plugin class that provides access to different plugin functions if present">etiss::Plugin</a>.</p>
<h1><a class="anchor" id="status_implementation_integratedlibrary"></a>
ETISS's Integrated Library</h1>
<p>This library is loaded at startup unless -fno-etiss.load_integrated_libraries was passed to <a class="el" href="group__ETISS__Frontend.html#gae0d82705849faff133052591c19f3039" title="Initialize and configure ETISS.">etiss::initialize</a>. Header/Source files are located in include/etiss/IntegratedLibrary/* and src/IntegratedLibrary/*</p>
<table border="1" style="width:100%">
<tr>
<th><b>Name</b><br  />
(as used in <a class="el" href="group__ETISS__Frontend.html#gaa5e8c6d44d5e6b27cb4384e60c557283" title="Get a present JIT plug-in by name.">etiss::getJIT</a>, <a class="el" href="group__ETISS__Frontend.html#gaaf6f48444721c0a133cdfbe5a26f11a3" title="Get a present CPUArch plug-in by name.">etiss::getCPUArch</a> and <a class="el" href="group__ETISS__Frontend.html#ga4f8d7c30115cfe2422f628a812d3b0b8" title="Get a present Plugin plug-in by name.">etiss::getPlugin</a>) </th><th><b>Description</b> </th><th><b>Options</b> </th><th><b>Class</b> </th><th><b>Type</b>  </th></tr>
<tr>
<td>PrintInstruction <br  />
 (<a class="el" href="group__ETISS__Frontend.html#ga4f8d7c30115cfe2422f628a812d3b0b8" title="Get a present Plugin plug-in by name.">etiss::getPlugin</a>)  </td><td><p class="starttd">Prints instructions in the form:<br  />
 Executing: &lt;instruction&gt; @ &lt;address&gt; </p><pre>
	Executing: 0x9c605001 @0x0000000000003938</pre><pre>        Executing: 0x9c800000 @0x000000000000393c</pre><pre>        Executing: 0x04001683 @0x0000000000003940 (start of meta instruction)</pre><pre>        Executing: 0x15000000 @0x0000000000003944 (end of meta instruction)
	    </pre>  </td><td></td><td><a class="el" href="classetiss_1_1plugin_1_1PrintInstruction.html" title="a simple plugin that prints the instruction and address when an instruction is executed">etiss::plugin::PrintInstruction</a>  </td><td><a class="el" href="classetiss_1_1Plugin.html" title="base plugin class that provides access to different plugin functions if present">etiss::Plugin</a> <br  />
 etiss::TranslatorPlugin   </td></tr>
<tr>
<td>gdbserver <br  />
 (<a class="el" href="group__ETISS__Frontend.html#ga4f8d7c30115cfe2422f628a812d3b0b8" title="Get a present Plugin plug-in by name.">etiss::getPlugin</a>)  </td><td>Runs a gbd server. This requires support from the used <a class="el" href="classetiss_1_1CPUArch.html" title="the interface to translate instructions of and processor architecture">etiss::CPUArch</a> implementation (namely a valid <a class="el" href="classetiss_1_1plugin_1_1gdb_1_1GDBCore.html" title="provides to architecture dependent registers as defined by gdb">etiss::plugin::gdb::GDBCore</a> implementation). gdb can then connect to a server port to debug the simulated software. The server port is 2222 by default. If this plugin is added to a <a class="el" href="classetiss_1_1CPUCore.html" title="CPUCore is responsible for the simulation of a CPU core in ETISS.">etiss::CPUCore</a> the execution will wait until a debugger connected and continued execution.<br  />
 <pre>
Enter in a terminal:
	gdb
	file &lt;Your Simulated Software&gt;
	target remote localhost:2222
	    </pre>  </td><td><pre>
port -&gt; &lt;int&gt; : specify server port
	    </pre>  </td><td><a class="el" href="classetiss_1_1plugin_1_1gdb_1_1Server.html" title="gdb server implementation that is used as a plugin in etiss">etiss::plugin::gdb::Server</a>  </td><td><a class="el" href="classetiss_1_1Plugin.html" title="base plugin class that provides access to different plugin functions if present">etiss::Plugin</a> <br  />
 <a class="el" href="classetiss_1_1CoroutinePlugin.html" title="this plugin will be called before a block is executed.">etiss::CoroutinePlugin</a> <br  />
 etiss::TranslatorPlugin <br  />
 <a class="el" href="classetiss_1_1SystemWrapperPlugin.html" title="this plugin allows to wrap the ETISS_System interface">etiss::SystemWrapperPlugin</a>   </td></tr>
<tr>
<td>BlockAccurateHandler <br  />
 (<a class="el" href="group__ETISS__Frontend.html#ga4f8d7c30115cfe2422f628a812d3b0b8" title="Get a present Plugin plug-in by name.">etiss::getPlugin</a>)  </td><td><p class="starttd">Allows to inject register errors after a block. Errors are read from a file for the specified register.A Error definition consist of a injection time and the index of a flipped bit: </p><pre>
Syntax:
	TIME_IN_NANOSECONDS;AFFECTED_BIT[;ERROR_ID]</pre><pre>NOTE: 	the ";ERROR_ID" part is optional. No spaces may exist inbetween the values</pre><pre>Example:
	1000;3
	2000;0;1234</pre><pre>above example schedules an error at time:
	1000 ns: bit number 3 will be flipped e.g. @999ns: 0x00000000 @1001ns: 0x00000008
	2000 ns: bit number 0 will be flipped e.g. @1999ns: 0x00000008 @2100ns: 0x00000009</pre><pre>NOTE: 	due to the infrequent execution of this plugin (usually only after a block)
	there may be a large delay between scheduled time and application of the error</pre><pre>            </pre>  </td><td><pre>
-r&lt;REGISTERNAME&gt; -&gt; &lt;filepath&gt; : read error definitions from the file for the specified register
	    </pre>  </td><td><a class="el" href="classetiss_1_1plugin_1_1errorInjection_1_1BlockAccurateHandler.html" title="Register error injection class.">etiss::plugin::errorInjection::BlockAccurateHandler</a>  </td><td><a class="el" href="classetiss_1_1Plugin.html" title="base plugin class that provides access to different plugin functions if present">etiss::Plugin</a> <br  />
 <a class="el" href="classetiss_1_1CoroutinePlugin.html" title="this plugin will be called before a block is executed.">etiss::CoroutinePlugin</a>   </td></tr>
<tr>
<td></td><td></td><td></td><td></td><td></td></tr>
</table>
<h1><a class="anchor" id="status_implementation_or1k"></a>
OR1K example implementation</h1>
<p>ETISS has a shared library that provides an example 32bit implementation of the <a class="el" href="structOR1K.html">OR1K</a> architecture. The instructions of the ORBIS32 and ORFPX32 group are supported. For detailed information on the implementation refer to <a href="https://docs.google.com/spreadsheets/d/1BbbDszsa3vRI0pxGgkrSbvH-ye9bHRmfAEO6OwCqSvU/edit?usp=sharing">https://docs.google.com/spreadsheets/d/1BbbDszsa3vRI0pxGgkrSbvH-ye9bHRmfAEO6OwCqSvU/edit?usp=sharing</a></p>
<p>To use this implementation call "etiss::CPUCore::create("or1k","YOURCORENAME",options);" where "options" is std::map&lt;std::string,std::string&gt;. The shared library should be located in ArchImpl/OR1K.</p>
<p>Currently supported options are: </p><table border="1" style="width:100%">
<tr>
<th><b>Option</b><br  />
 </th><th><b>Values </b> </th><th><b>Description</b>  </th></tr>
<tr>
<td></td><td></td><td></td></tr>
</table>
<h1><a class="anchor" id="status_implementation_gcc"></a>
GCC based just in time compiler</h1>
<p>This <a class="el" href="classetiss_1_1JIT.html" title="compiler interface for just in time compilation of generated C code">etiss::JIT</a> implementation writes the passed code to a file and invokes gcc to create a dynamic library which is then loaded into the application with dlopen and the RTLD_LOCAL flag. <a class="el" href="classetiss_1_1JIT.html#a0bed1055834c403f6e201b5dc262df49" title="translate C code to executable code and return a handle/pointer that identifies the compilation resul...">etiss::JIT::translate</a> returns a library handle and <a class="el" href="classetiss_1_1JIT.html#a16474107f2b37e6eca1af57d4d99ae8a" title="returns a function pointer to a compiled function from the handle returned by etiss::JIT::translate">etiss::JIT::getFunction</a> returns a function pointer loaded with dlsym.</p>
<p>gcc get invoked with the flags "-c -Wall -fPIC -march=native -mtune=native -pipe -g -O2" in debug mode and "-c -Wall -fPIC -march=native -mtune=native -pipe -O3" otherwise to create an object file.</p>
<p>Currently supported options are: </p><table border="1" style="width:100%">
<tr>
<th><b>Option</b><br  />
 </th><th><b>Values </b> </th><th><b>Description</b>  </th></tr>
<tr>
<td>jit.gcc.cleanup  </td><td><b>true</b> <br  />
 false  </td><td>deletes temporary files (code + shared libraries) after the instance has been deleted  </td></tr>
<tr>
<td></td><td></td><td></td></tr>
</table>
<h1><a class="anchor" id="status_implementation_llvm"></a>
LLVM/Clang based just in time compiler</h1>
<p>This <a class="el" href="classetiss_1_1JIT.html" title="compiler interface for just in time compilation of generated C code">etiss::JIT</a> implementation compiles and loads passed code within the memory. Compilation is usually faster than with the GCC based compiler. LLVMs MCJIT engine is used to generate executable functions. <a class="el" href="classetiss_1_1JIT.html#a16474107f2b37e6eca1af57d4d99ae8a" title="returns a function pointer to a compiled function from the handle returned by etiss::JIT::translate">etiss::JIT::getFunction</a> can only return function pointers (not any symbol like the dlsym call of the GCC based compiler). This restriction has no relevance for the intended use of <a class="el" href="classetiss_1_1JIT.html" title="compiler interface for just in time compilation of generated C code">etiss::JIT</a>.</p>
<p>For more information refer to <a href="http://www.llvm.org">http://www.llvm.org</a> and <a href="http://clang.llvm.org/">http://clang.llvm.org/</a> . The execution engine used to create function pointers is described on this site <a href="http://llvm.org/docs/MCJITDesignAndImplementation.html">http://llvm.org/docs/MCJITDesignAndImplementation.html</a></p>
<p>Currently no options are supported.</p>
<h1><a class="anchor" id="status_implementation_tcc"></a>
TCC (Tiny C Compiler) based just in time compiler</h1>
<p>TCC can compile code in memory like LLVM/Clang but is much faster. The compiled functions are however considerable less performant that those from GCC or LLVM/Clang. TCC is recommended for use with very large programs where fast compilation and small memory footprint are the main aspect.</p>
<p>For more information refer to <a href="http://bellard.org/tcc/">http://bellard.org/tcc/</a></p>
<p>Currently no options are supported. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Aug 19 2022 12:53:22 for ETISS 0.8.0 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
